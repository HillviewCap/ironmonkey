{% extends "base.html" %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-6">{{ rollup_type|title }} Intelligence Briefing</h1>
    <div class="bg-white shadow-md rounded-lg p-6">
        <div class="prose max-w-none">
            {% for section in rollup_content.split('\n\n') %}
                {% if section.startswith('Title:') %}
                    <h2 class="text-xl font-semibold mt-6 mb-2 text-blue-600">{{ section[6:].strip() }}</h2>
                {% elif section.startswith('Published:') %}
                    <p class="text-sm text-gray-500 mb-2">{{ section[10:].strip() }}</p>
                {% elif section.startswith('Description:') %}
                    <p class="text-gray-700 mb-2"><strong>Description:</strong> {{ section[12:].strip() }}</p>
                {% elif section.startswith('Summary:') %}
                    <p class="text-gray-800 mb-2"><strong>Summary:</strong> {{ section[8:].strip() }}</p>
                {% elif section.startswith('Source URL:') %}
                    <p class="text-sm text-blue-500 mb-4">
                        <a href="{{ section[11:].strip() }}" target="_blank" rel="noopener noreferrer" class="hover:underline">
                            Read full article
                        </a>
                    </p>
                {% else %}
                    <p class="mb-2">{{ section }}</p>
                {% endif %}
            {% endfor %}
        </div>
    </div>
    <div class="mt-8">
        <a href="{{ url_for('main.index') }}" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded">
            Back to Home
        </a>
    </div>
</div>
{% endblock %}
